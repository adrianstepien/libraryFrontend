<div class="main-content" *ngIf="bookToEdit">
    <div class="alert alert-success" role="alert" *ngIf="successMessage != null">
        {{successMessage}}
    </div>
    <div class="alert alert-danger" role="alert" *ngIf="errorMessage != null">
        {{errorMessage}}
    </div>
    <div class="col-md-12">
        <div class="card">
            <div class="header">
                <h4 class="title">Szczegółowe informacje</h4>
            </div>
            <div class="content">
                <form >
                    <ngb-rating [(rate)]="bookToEdit.ownRating">
                        <ng-template let-fill="fill" let-index="index">
                            <span class="star" [class.filled]="fill === 100" [class.bad]="index < 3" [class.good]="index > 6">&#9733;</span>
                        </ng-template>
                    </ngb-rating>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label>Tytuł</label>
                                <input type="text" class="form-control" [(ngModel)]="bookToEdit.title" name="title" placeholder="Tytuł" >
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label>Autor</label>
                                <input type="text" class="form-control" [(ngModel)]="bookToEdit.authors" name="authors" placeholder="Autor">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Data przeczytania</label>
                                <input type="date" class="form-control" [(ngModel)]="bookToEdit.dateOfReading" name="dateOfReading" placeholder="Data przeczytania">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Data publikacji</label>
                                <input type="text" class="form-control" [(ngModel)]="bookToEdit.publishedDate" name="publishedDate" placeholder="Data publikacji">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Liczba stron</label>
                                <input type="text" class="form-control" [(ngModel)]="bookToEdit.pageCount" name="pageCount" placeholder="Liczba stron">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Link do zdjęcia</label>
                                <input type="text" class="form-control" [(ngModel)]="bookToEdit.imageLink" name="imageLink" placeholder="Link do zdjęcia">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label>Opis książki</label>
                                <textarea rows="5" class="form-control" [(ngModel)]="bookToEdit.description" name="description" placeholder="Opis"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label>Własny opis</label>
                                <textarea rows="5" class="form-control" [(ngModel)]="bookToEdit.ownReview" name="ownReview" placeholder="Wprowadź własny opis"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <button type="submit" class="btn btn-info btn-fill pull-right" (click)="downloadBookFile(bookToEdit.id, bookToEdit.title)">Sciagnij</button>
                                <button type="button" style="margin-right: 5px;" [style.background-color]="btnColour" class="btn btn-info btn-fill pull-right" (click)="fileInput.click()">
                                    <span>Wgraj plik</span>
                                    <input #fileInput type="file" (change)="selectFile($event.target.files, bookToEdit.id)" style="display:none;" />
                                </button>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-info btn-fill pull-right" (click)="updateBook(bookToEdit)">Zaktualizuj pozycję</button>
                    <button type="submit" style="margin-right: 5px;" class="btn btn-danger btn-fill pull-right" (click)="deleteBook(bookToEdit)">Usuń pozycję</button>
                    <div class="clearfix"></div>
                </form>
            </div>
        </div>
    </div>
</div>